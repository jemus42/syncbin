# Create new octopress blogpost and open with Mou.app
# Usage example: newpost "Let's talk about anthropomorphism in frozen yoghurt"
ME=$(whoami)

# Create a new directory and enter it
function mkd() {
        mkdir -p "$@" && cd "$@"
}

# Dump files to my filedump, because dump
function dump {
	rsync-copy --partial "$@" -e ssh mercy:/srv/dump.jemu.name
	FILE=$(basename $1)
	if [[ $ME == "Lukas" ]]; then
		echo "http://dump.jemu.name/$FILE" | pbcopy
	else echo "http://dump.jemu.name/$FILE"
	fi
	echo "$(date '+%Y-%m-%d %H:%M:%S'): $FILE â€“ http://dump.jemu.name/$FILE" >> $HOME/.dumplog
	terminal-notifier -title "Filedump" -message "$FILE" -execute subl $HOME/.dumplog
}

function wmv2mp4 {

   FILE=$(echo $1 | sed -e 's/.wmv//');
   echo "Converting $FILE.wmv";

   HandBrakeCLI -i $FILE.wmv -o $FILE.mp4 -e x264 -q 20 -B 160;
   echo "Done."
}

source ~/.functions.local
